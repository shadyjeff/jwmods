"use strict";(self.webpackChunkjwplayer=self.webpackChunkjwplayer||[]).push([[168],{8446:(e,t,o)=>{o.d(t,{FM:()=>i,Sf:()=>s,xq:()=>n});var d=o(2957),u=o(974);const i=e=>e.replace(/^(.*\/)?(.*)-?.*\.(css).*$/,"$2"),n=e=>{const o=(e=e||{}).active,i=e.inactive,n=e.background,t={};return t.controlbar=(e=>{var t;if(e||o||i||n)return(t={}).iconsActive=(e=e||{}).iconsActive||o,t.icons=e.icons||i,t.text=e.text||i,t.background=e.background||n,t})(e.controlbar),t.timeslider=(e=>{var t;if(e||o)return(t={}).progress=(e=e||{}).progress||o,t.rail=e.rail,t.buffer=e.buffer,!t.buffer&&t.progress&&(t.buffer=(0,u.HY)(t.progress,50)),t.knob=e.knob||t.progress,t.ads=e.ads||n,t})(e.timeslider),t.menus=(e=>{var t;if(e||o||i||n)return(t={}).text=(e=e||{}).text||i,t.textActive=e.textActive||o,t.background=e.background||n,t})(e.menus),t.tooltips=(e=>{var t;if(e||i||n)return(t={}).text=(e=e||{}).text||i,t.background=e.background||n,t})(e.tooltips),t},s=(n,e)=>{if(e){const l=(e,t,o,i)=>{o&&(e=(0,d.O4)(e,"#"+n+(i?"":" ")),(i={})[t]=o,(0,u.iv)(e.join(", "),i,n))};var t;if(e.controlbar&&(o=e.controlbar,l([".jw-controlbar .jw-icon-inline.jw-text",".jw-title-primary",".jw-title-secondary"],"color",o.text),o.icons&&(l([".jw-button-color:not(.jw-icon-cast)",".jw-button-color.jw-toggle.jw-off:not(.jw-icon-cast)"],"color",o.icons),l([".jw-display-icon-container .jw-button-color"],"color",o.icons),(0,u.iv)(`#${n} .jw-icon-cast google-cast-launcher.jw-off`,`{--disconnected-color: ${o.icons}}`,n)),o.iconsActive&&(l([".jw-display-icon-container .jw-button-color:hover",".jw-display-icon-container .jw-button-color:focus"],"color",o.iconsActive),l([".jw-button-color.jw-toggle:not(.jw-icon-cast)",".jw-button-color:hover:not(.jw-icon-cast)",".jw-button-color:focus:not(.jw-icon-cast)",".jw-button-color.jw-toggle.jw-off:hover:not(.jw-icon-cast)"],"color",o.iconsActive),l([".jw-svg-icon-buffer"],"fill",o.icons),(0,u.iv)(`#${n} .jw-icon-cast:hover google-cast-launcher.jw-off`,`{--disconnected-color: ${o.iconsActive}}`,n),(0,u.iv)(`#${n} .jw-icon-cast:focus google-cast-launcher.jw-off`,`{--disconnected-color: ${o.iconsActive}}`,n),(0,u.iv)(`#${n} .jw-icon-cast google-cast-launcher.jw-off:focus`,`{--disconnected-color: ${o.iconsActive}}`,n),(0,u.iv)(`#${n} .jw-icon-cast google-cast-launcher`,`{--connected-color: ${o.iconsActive}}`,n),(0,u.iv)(`#${n} .jw-icon-cast google-cast-launcher:focus`,`{--connected-color: ${o.iconsActive}}`,n),(0,u.iv)(`#${n} .jw-icon-cast:hover google-cast-launcher`,`{--connected-color: ${o.iconsActive}}`,n),(0,u.iv)(`#${n} .jw-icon-cast:focus google-cast-launcher`,`{--connected-color: ${o.iconsActive}}`,n)),l([" .jw-settings-topbar",":not(.jw-state-idle) .jw-controlbar",".jw-flag-audio-player .jw-controlbar"],"background",o.background,!0)),e.timeslider){var o=e.timeslider;var{progress:i,buffer:s,rail:r,knob:c,ads:a}=o;i&&"none"!==i&&(l([".jw-progress"],"background-color",i),l([".jw-slider-volume .jw-buffer"],"background-color",(0,u.HY)(i,50))),s&&"none"!==s&&l([".jw-slider-time .jw-buffer"],"background-color",s),a&&"none"!==a&&l([".jw-slider-time .jw-cue-type-ads"],"background-color",a),c&&"none"!==c&&l([".jw-knob"],"background-color",c),r&&"none"!==r&&l([".jw-rail"],"background-color",r),l([".jw-background-color.jw-slider-time",".jw-slider-time .jw-cue"],"background-color",o.background)}e.menus&&(i=e.menus,l([".jw-option",".jw-toggle.jw-off",".jw-skip .jw-skip-icon",".jw-nextup-tooltip",".jw-nextup-close",".jw-settings-content-item",".jw-related-title"],"color",i.text),l([".jw-option.jw-active-option",".jw-option:not(.jw-active-option):hover",".jw-option:not(.jw-active-option):focus",".jw-settings-content-item:hover",".jw-nextup-tooltip:hover",".jw-nextup-tooltip:focus",".jw-nextup-close:hover"],"color",i.textActive),l([".jw-nextup",".jw-settings-menu"],"background",i.background)),e.tooltips&&(s=e.tooltips,l([".jw-skip",".jw-tooltip .jw-text",".jw-time-tip .jw-text"],"background-color",s.background),l([".jw-time-tip",".jw-tooltip"],"color",s.background),l([".jw-skip"],"border","none"),l([".jw-skip .jw-text",".jw-skip .jw-icon",".jw-time-tip .jw-text",".jw-tooltip .jw-text"],"color",s.text)),e.menus&&((a=e.menus).textActive&&(t={color:a.textActive,borderColor:a.textActive,stroke:a.textActive},(0,u.iv)(`#${n} .jw-color-active`,t,n),(0,u.iv)(`#${n} .jw-color-active-hover:hover`,t,n)),a.text)&&(t={color:a.text,borderColor:a.text,stroke:a.text},(0,u.iv)(`#${n} .jw-color-inactive`,t,n),(0,u.iv)(`#${n} .jw-color-inactive-hover:hover`,t,n))}}},5545:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var i=o(6042),a=o(8446),l=o(2445);function r(t){if(t.source===window.parent){let e=t.data;return e&&("object"==typeof e||(e=JSON.parse(e))&&"object"==typeof e)?e:void 0}}const d=["file","description","image","mediaid","title","type","playlist","floating"].concat(["skinUrl","pluginUrl","advertising","adCustParams","adMacros"]),n={play:"play",pause:"pause",complete:"complete",meta:"meta",mute:"mute",visible:"visible",adImpression:"adImpression",adComplete:"adComplete",adPlay:"adPlay",adPause:"adPause",adTime:"adTime",time:"time",controls:"controls",resize:"resize"},s=class{constructor(e){this.api=e,this.model=null,this.onCommand=this.onCommand.bind(this),this.shouldSetupOnConfig=!1,this.playerReady=!1}setup(s){return this.subscribe(),this.sendMessage({event:"setup"}),s.attributes.ampController=this,new Promise(o=>{const i=setTimeout(()=>(this.shouldSetupOnConfig=!0,o()),50),n=function(e){clearTimeout(i);var t=r(e);if(t&&"setupConfig"===t.method&&"setupConfig"===t.method){window.removeEventListener("message",n);const i=t.optParams;if(!i||0===Object.keys(i).length)return o();const e=function(e,t){const o={};o.edition=e.get("edition");var i="free"===o.edition,n=t.skinUrl;!i&&n&&(i=o,n=n,i.skin={},i.skin.url=n,i.skin.name=(0,a.FM)(n));const s=t.advertising||e.get("advertising"),r=t.adCustParams,c=null==s?void 0:s.schedule;r&&0!==Object.keys(r).length&&c&&(Object.keys(c).forEach(e=>{c[e].custParams=r}),s.schedule=c);var i=t.adMacros,n=(s&&i&&(s.ampMacros=i),t.pluginUrl);return(n||s)&&(s&&(o.advertising=s),e=o,(i=n)&&(e.plugins={},e.plugins[i]={}),e.plugins=(0,l.qG)(e)),Object.keys(t).forEach(e=>{-1===d.indexOf(e)&&(o[e]=t[e])}),o}(s,i);return this.shouldSetupOnConfig?void this.api.setup(Object.assign({},this.api.getConfig().setupConfig,i)):(Object.assign(s.attributes,e),o())}}.bind(this);window.addEventListener("message",n)})}ready(e){return this.model=e,this.addEventListeners(),this.sendMessage({event:"ready",detail:{playlistItem:this.getPlaylistItem(),muted:this.model.getMute()}})}createAMPItem(e){return{duration:e.duration,meta:this.getMetadata(),title:e.title,mediaid:e.mediaid}}getPlaylistItem(){var e=this.model.get("playlistItem");return this.createAMPItem(e)}getPlayedRanges(){var t=this.model.get("mediaElement")["played"],o=t["length"],i=[];for(let e=0;e<o;e++)i.push([t.start(e),t.end(e)]);return i}getMetadata(){var e,t,o=null==(e=navigator)||null==(t=e.mediaSession)?void 0:t.metadata;if(o){const{title:e,artist:t,album:i,artwork:n}=o;return{title:e,artist:t,album:i,artwork:n}}}subscribe(){this.unsubscribe(),Object.keys(n).forEach(o=>{this.api.on(o,e=>{const t=(0,i.l7)({},e);t.client&&"vast"===t.client&&["request","response"].forEach(e=>{delete t[e]}),this.sendMessage({event:o,detail:t})},this)}),window.addEventListener("message",this.onCommand)}addEventListeners(){this.model.on("change:fullscreen",(e,t)=>{this.sendMessage({event:"fullscreen",detail:{fullscreen:t}})},this),this.model.on("change:playlistItem",(e,t)=>this.sendMessage({event:"playlistItem",detail:this.createAMPItem(t)}),this),this.api.once("ready",()=>{this.playerReady=!0})}sendMessage(e,t="*"){window.parent.postMessage(e,t)}onCommand(e){e=r(e);if(e){const{method:t,optParams:o}=e;if("getPlayedRanges"===t){const e={ranges:this.getPlayedRanges()};return this.sendMessage({event:"playedRanges",detail:e})}if(this.playerReady||"setControls"!==t)return this.api[t]?this.api[t](o):void 0;this.api.once("ready",()=>{this.api[t](o)})}}unsubscribe(){this.api&&this.api.off(null,null,this),this.model&&this.model.off(null,null,this),window.removeEventListener("message",this.onCommand)}}}}]);